!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=405)}({405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={asList:function(e){return"[object Array]"===Object.prototype.toString.call(e)?e:void 0!==e?[e]:[]},iterateSafely:function(e,t){for(var n=r.asList(e),i=0;i<n.length;i++)t(n[i])},forEach:function(e,t){for(var n=0;n<e.length;n++)t(e[n])}},i={requiredElementscheckboxCollection:document.querySelectorAll('[data-checkbox-collection-required="true"]'),requiredElementsRadio:document.querySelectorAll('[data-radio-required="true"]'),requiredElementsCheckboxes:document.querySelectorAll('[data-inputtype="checkboxes"][required="required"]'),initializeForm:function(e){i.initializeCheckboxes(document.getElementsByClassName("indeterminate")),i.initializeChangeHandler(i.requiredElementscheckboxCollection),i.initializeChangeHandler(i.requiredElementsRadio),i.initializeChangeHandler(i.requiredElementsCheckboxes),i.textareaAutoHeight(),i.initializeDatePicker()},initializeDatePicker:function(){var e=document.querySelectorAll("input[data-inputtype='date']");e&&e.length>0&&e.forEach(function(e){var t=e.parentNode,n=e.attributes.min?new Date(e.attributes.min.value):null,r=e.attributes.max?new Date(e.attributes.max.value):null;return new Pikaday({container:t,field:e,minDate:n,maxDate:r})})},textareaAutoHeight:function(){for(var e=document.querySelectorAll(".xp-formbuilder-form textarea.hw-textarea"),t=0;t<e.length;t++)e[t].addEventListener("keydown",function(e){var t=e.target;t.scrollHeight>t.clientHeight&&(t.style.height=t.scrollHeight+"px")})},initializeChangeHandler:function(e){for(var t=0;t<e.length;t++)e[t].addEventListener("change",i.onRequiredChange)},onRequiredChange:function(){if("checkbox"==this.type)var e=i.requiredElementscheckboxCollection;if("checkbox"==this.type&&"checkboxes"==this.dataset.inputtype)var e=Array.prototype.slice.call(i.requiredElementsCheckboxes).filter(function(e){return this.name==e.name});if("radio"==this.type)var e=Array.prototype.slice.call(i.requiredElementsRadio).filter(function(e){return this.name==e.name});if(this.checked)for(var t=0;t<e.length;t++)e[t].required=!1;else{for(var n=0,t=0;t<e.length;t++)e[t].checked&&n++;if(0==n)for(var t=0;t<e.length;t++)e[t].required=!0}},initializeCheckboxes:function(e){r.forEach(e,function(e){e.indeterminate=!0})},addSubmitHandling:function(e){for(var t=document.getElementsByClassName("xp-formbuilder-form"),n=0;n<t.length;n++){var r=t[n];r.className.indexOf("ajax-submit")>-1?r.onsubmit=i.submitForm:r.onsubmit=i.submitNonAjaxForm}},validateFormInputs:function(e){for(var t=!0,n=void 0,r=["radio","checkboxes","checkbox","checkbox-collection"],a=["number","tel","text","textarea","email","select-one","select"],o=0;o<e.length;o++){var l=e[o],d=l.dataset.inputtype||l.type;if(-1!==r.concat(a).indexOf(d)){var c=document.createElement("div"),s=void 0,u=void 0,m=void 0,f=void 0,p=JSON.parse(document.querySelector(".xp-formbuilder-form").dataset.errorlocalization);c.className=-1!==r.indexOf(d)?"hw-error-simple":"hw-error",c.className+="radio"==d||"checkbox"==d?" hw-error--align-left":"",c.innerHTML=-1!==r.indexOf(d)?p.simpleInput:p.textInput;var h="select-one"==d?-1!=l.selectedIndex&&!l.options[l.selectedIndex].disabled:l.checkValidity();-1!==a.indexOf(d)&&(s="tel"==d?l.parentNode.parentNode:l.parentNode,u="hw-input--error",m="select-one"==d?l.classList.contains("hw-dropdown--native")?l.classList:l.parentElement.querySelector(".hw-dropdown__inner").classList:l.classList,f=".hw-error"),-1!==r.indexOf(d)&&(s="checkbox"==d?l.parentNode.parentNode:l.parentNode.parentNode.parentNode.parentNode.parentNode,u="radio"==d?"hw-radio-button--error":"hw-checkbox--error",m=l.parentNode.classList,f=".hw-error-simple"),h?h&&m.contains(u)&&(m.remove(u),s.querySelector(f)&&s.querySelector(f).remove()):(t=!1,m.contains(u)||m.add(u),s.querySelector(f)||s.appendChild(c),n=n||l)}}return n&&n.scrollIntoView({behavior:"smooth"}),i.validateFileSize(e)||(t=!1),t},validateFileSize:function(e){for(var t=[],n=0,r=parseInt(document.getElementById("attachmentSizeLimit").textContent)||10,i=0;i<e.length;i++)"file"===e[i].type&&e[i].files.length>0&&t.push(e[i]);for(var a=0;a<t.length;a++)for(var o=0;o<t[a].files.length;o++)n+=t[a].files[o].size;return!(n>1048576*r)||(alert(document.getElementById("attachmentSizeErrMsg").textContent),!1)},submitForm:function(e){e.preventDefault();var t=this.querySelectorAll("input, textarea, select");if(!i.validateFormInputs(t))return!1;var n=i.prepareFormData(t);i.disable(this),i.sendForm(e.target,n)},submitNonAjaxForm:function(e){var t=this.querySelectorAll("input, textarea, select");if(!i.validateFormInputs(t))return!1},disable:function(e){for(var t=e.getElementsByClassName("hw-input"),n=0;n<t.length;n++)t[n].disabled=!0;e.getElementsByClassName("xp-submit")[0].disabled=!0,e.className=e.className?e.className+" xp-submitting":"xp-submitting"},prepareFormData:function(e){for(var t=new FormData,n=0;n<e.length;n++){var r=e[n];if("file"===r.type)i.addFiles(r,t);else{if("radio"===r.type&&!0!==r.checked)continue;if("checkbox"===r.type&&!0!==r.checked)continue;if(void 0===r.type&&void 0!==r.for&&r.attributes.name.value)continue;if("submit"===r.type||"reset"===r.type||!r.name)continue;t.append(r.name,r.value)}}return t},addFiles:function(e,t){for(var n=0;n<e.files.length;n++){var r=e.files[n];i.validateFile(r)&&t.append(e.name+"["+n+"]",r,r.name)}},sendForm:function(e,t){var n=new XMLHttpRequest;n.open("POST",e.action,!0),n.onload=function(t){if(200===n.status){var r=t.srcElement||t.target;"true"==e.dataset.embedded?i.addResponseReplaceSubmit(e,r.responseText):i.addResponseReplaceForm(e,r.responseText)}else i.addResponseReplaceSubmit(e,"Error: Failed submitting form."),console.log("Error: Failed submitting form.")},n.send(t)},validateFile:function(e){return!0},addResponseReplaceSubmit:function(e,t){var n=document.getElementById("xp-formbuilder-submit"),r=document.createElement("div");r.innerHTML=t;var i=n.parentElement;i.removeChild(n),i.appendChild(r)},addResponseReplaceForm:function(e,t){var n=document.createElement("div");n.className="xp-form-response left editor lead",n.innerHTML=t,e.parentElement.insertBefore(n,e);var r=document.getElementsByClassName("hw-wysiwyg form-builder__wysiwyg")[0];if(r)for(;r.childNodes.length>2;)r.removeChild(r.lastChild);e.remove?e.remove():e.parentElement.removeChild(e)}},a={onLoad:function(e){document.addEventListener?document.addEventListener("DOMContentLoaded",e):window.attachEvent?window.attachEvent("load",e):window.addEventListener("load",e)}};a.onLoad(i.initializeForm),a.onLoad(i.addSubmitHandling),t.default=a}});